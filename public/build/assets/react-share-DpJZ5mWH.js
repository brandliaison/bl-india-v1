import{r as f,j as _}from"./react-CO8DTg_N.js";import{c as H}from"./classnames-CVtVJh_j.js";import{j as p}from"./jsonp-DxngNLFe.js";var U=Object.defineProperty,M=Object.defineProperties,F=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,B=(t,e,n)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))x.call(e,n)&&B(t,n,e[n]);if(S)for(var n of S(e))$.call(e,n)&&B(t,n,e[n]);return t},j=(t,e)=>M(t,F(e)),L=(t,e)=>{var n={};for(var i in t)x.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&S)for(var i of S(t))e.indexOf(i)<0&&$.call(t,i)&&(n[i]=t[i]);return n};function r(t){const e=Object.entries(t).filter(([,n])=>n!=null).map(([n,i])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(i))}`);return e.length>0?`?${e.join("&")}`:""}const q=t=>!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function",z=(t,e)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}),G=(t,e)=>({top:(window.screen.height-e)/2,left:(window.screen.width-t)/2});function X(t,e,n){var i=e,{height:o,width:c}=i,d=L(i,["height","width"]);const l=u({height:o,width:c,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},d),w=window.open(t,"",Object.keys(l).map(h=>`${h}=${l[h]}`).join(", "));if(n){const h=window.setInterval(()=>{try{(w===null||w.closed)&&(window.clearInterval(h),n(w))}catch(m){console.error(m)}},1e3)}return w}function Y(t){var e=t,{beforeOnClick:n,children:i,className:o,disabled:c,disabledStyle:d={opacity:.6},forwardedRef:l,htmlTitle:w,networkLink:h,networkName:m,onClick:k,onShareWindowClose:b,openShareDialogOnClick:K=!0,opts:I,resetButtonStyle:R=!0,style:O,url:E,windowHeight:C=400,windowPosition:V="windowCenter",windowWidth:y=550}=e,N=L(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"]);const T=async P=>{const W=h(E,I);if(!c){if(P.preventDefault(),n){const v=n();q(v)&&await v}if(K){const v=u({height:C,width:y},V==="windowCenter"?z(y,C):G(y,C));X(W,v,b)}k&&k(P,W)}},A=H("react-share__ShareButton",{"react-share__ShareButton--disabled":!!c,disabled:!!c},o),D=u(u(R?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},O),c&&d);return _.jsx("button",j(u({},N),{className:A,onClick:T,ref:l,style:D,title:w,children:i}))}function s(t,e,n,i){function o(c,d){const l=n(c),w=u({},c);return Object.keys(l).forEach(m=>{delete w[m]}),_.jsx(Y,j(u(u({},i),w),{forwardedRef:d,networkName:t,networkLink:e,opts:n(c)}))}return o.displayName=`ShareButton-${t}`,f.forwardRef(o)}function J(t,{subject:e,body:n,separator:i}){return"mailto:"+r({subject:e,body:n?n+i+t:t})}const Q=s("email",J,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,e)=>{window.location.href=e}}),At=Q;function Z(t,{appId:e,redirectUri:n,to:i}){return"https://www.facebook.com/dialog/send"+r({link:t,redirect_uri:n||t,app_id:e,to:i})}s("facebookmessenger",Z,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});class tt extends Error{constructor(e){super(e),this.name="AssertionError"}}function a(t,e){if(!t)throw new tt(e)}function et(t,{hashtag:e}){return a(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+r({u:t,hashtag:e})}const nt=s("facebook",et,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400}),Dt=nt;function it(){const t=f.useRef(!1);return f.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),f.useCallback(()=>t.current,[])}function ot(t){var e=t,{children:n=b=>b,className:i,getCount:o,url:c}=e,d=L(e,["children","className","getCount","url"]);const l=it(),[w,h]=f.useState(void 0),[m,k]=f.useState(!1);return f.useEffect(()=>{k(!0),o(c,b=>{l()&&(h(b),k(!1))})},[c]),_.jsx("span",j(u({className:H("react-share__ShareCount",i)},d),{children:!m&&w!==void 0&&n(w)}))}function g(t){const e=n=>_.jsx(ot,u({getCount:t},n));return e.displayName=`ShareCount(${t.name})`,e}function rt(t,e){const n=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;p(n,(i,o)=>{e(!i&&o&&o.og_object&&o.og_object.engagement?o.og_object.engagement.count:void 0)})}g(rt);function at(t,{title:e}){return a(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${e}`}s("hatena",at,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function st(t,e){p("https://bookmark.hatenaapis.com/count/entry"+r({url:t}),(i,o)=>{e(o??void 0)})}g(st);function ct(t,{title:e,description:n}){return a(t,"instapaper.url"),"http://www.instapaper.com/hello2"+r({url:t,title:e,description:n})}s("instapaper",ct,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function dt(t,{title:e}){return a(t,"line.url"),"https://social-plugins.line.me/lineit/share"+r({url:t,text:e})}s("line",dt,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function lt(t,{title:e,summary:n,source:i}){return a(t,"linkedin.url"),"https://linkedin.com/shareArticle"+r({url:t,mini:"true",title:e,summary:n,source:i})}const wt=s("linkedin",lt,({title:t,summary:e,source:n})=>({title:t,summary:e,source:n}),{windowWidth:750,windowHeight:600}),Ut=wt;function ut(t,{title:e,description:n}){return a(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+r({subject:e,event:n})}s("livejournal",ut,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function ht(t,{title:e,description:n,imageUrl:i}){return a(t,"mailru.url"),"https://connect.mail.ru/share"+r({url:t,title:e,description:n,image_url:i})}s("mailru",ht,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function ft(t,{title:e,description:n,image:i}){return a(t,"ok.url"),"https://connect.ok.ru/offer"+r({url:t,title:e,description:n,imageUrl:i})}s("ok",ft,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function pt(t,e){window.OK||(window.OK={Share:{count:function(c,d){var l,w;(w=(l=window.OK.callbacks)[c])==null||w.call(l,d)}},callbacks:[]});const n="https://connect.ok.ru/dk",i=window.OK.callbacks.length;return window.ODKL={updateCount(o,c){var d,l;const w=o===""?0:parseInt(o.replace("react-share-",""),10);(l=(d=window.OK.callbacks)[w])==null||l.call(d,c===""?void 0:parseInt(c,10))}},window.OK.callbacks.push(e),p(n+r({"st.cmd":"extLike",uid:`react-share-${i}`,ref:t}))}g(pt);function gt(t,{media:e,description:n,pinId:i}){return i?`https://pinterest.com/pin/${i}/repin/x/`:(a(t,"pinterest.url"),a(e,"pinterest.media"),"https://pinterest.com/pin/create/button/"+r({url:t,media:e,description:n}))}const mt=s("pinterest",gt,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730}),Mt=mt;function kt(t,e){p("https://api.pinterest.com/v1/urls/count.json"+r({url:t}),(i,o)=>{e(o?o.count:void 0)})}g(kt);function bt(t,{title:e}){return a(t,"pocket.url"),"https://getpocket.com/save"+r({url:t,title:e})}s("pocket",bt,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function vt(t,{title:e}){return a(t,"reddit.url"),"https://www.reddit.com/submit"+r({url:t,title:e})}const St=s("reddit",vt,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"}),Ft=St;function _t(t,{title:e}){return a(t,"gab.url"),"https://gab.com/compose"+r({url:t,text:e})}s("gab",_t,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function Ct(t,e){const n=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;p(n,{param:"jsonp"},(i,o)=>{e(!i&&o&&o.data&&o.data.children.length>0&&o.data.children[0].data.score?o.data.children[0].data.score:void 0)})}g(Ct);function yt(t,{title:e}){return a(t,"telegram.url"),"https://telegram.me/share/url"+r({url:t,text:e})}const jt=s("telegram",yt,t=>({title:t.title}),{windowWidth:550,windowHeight:400}),qt=jt;function Lt(t,{title:e,caption:n,tags:i,posttype:o}){return a(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+r({canonicalUrl:t,title:e,caption:n,tags:i,posttype:o})}s("tumblr",Lt,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function Ot(t,e){return p("https://api.tumblr.com/v2/share/stats"+r({url:t}),(i,o)=>{e(!i&&o&&o.response?o.response.note_count:void 0)})}g(Ot);function Pt(t,{title:e,via:n,hashtags:i=[],related:o=[]}){return a(t,"twitter.url"),a(Array.isArray(i),"twitter.hashtags is not an array"),a(Array.isArray(o),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+r({url:t,text:e,via:n,hashtags:i.length>0?i.join(","):void 0,related:o.length>0?o.join(","):void 0})}const Wt=s("twitter",Pt,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400}),zt=Wt;function Bt(t,{title:e,separator:n}){return a(t,"viber.url"),"viber://forward"+r({text:e?e+n+t:t})}s("viber",Bt,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function Ht(t,{title:e,image:n,noParse:i,noVkLinks:o}){return a(t,"vk.url"),"https://vk.com/share.php"+r({url:t,title:e,image:n,noparse:i?1:0,no_vk_links:o?1:0})}s("vk",Ht,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function xt(t,e){window.VK||(window.VK={}),window.VK.Share={count:(o,c)=>{var d,l;return(l=(d=window.VK.callbacks)==null?void 0:d[o])==null?void 0:l.call(d,c)}},window.VK.callbacks=[];const n="https://vk.com/share.php",i=window.VK.callbacks.length;return window.VK.callbacks.push(e),p(n+r({act:"count",index:i,url:t}))}g(xt);function $t(t,{title:e,image:n}){return a(t,"weibo.url"),"http://service.weibo.com/share/share.php"+r({url:t,title:e,pic:n})}s("weibo",$t,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});function Kt(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function It(t,{title:e,separator:n}){return a(t,"whatsapp.url"),"https://"+(Kt()?"api":"web")+".whatsapp.com/send"+r({text:e?e+n+t:t})}const Rt=s("whatsapp",It,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400}),Gt=Rt;function Et(t,{quote:e,hashtag:n}){return a(t,"workplace.url"),"https://work.facebook.com/sharer.php"+r({u:t,quote:e,hashtag:n})}s("workplace",Et,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});export{At as E,Dt as F,Ut as L,Mt as P,Ft as R,zt as T,Gt as W,qt as a};
